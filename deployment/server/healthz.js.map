{"version":3,"sources":["../../server/healthz.js"],"names":["healthz","get","req","res","next","confirmHealth","sendStatus","Error"],"mappings":";;AAEA,gC;;AAEA,2E;;;AAGA,GAAMA,SAAU,uBAAhB;;;AAGAA,QAAQC,GAAR,CAAa,GAAb,CAAkB,iBAAOC,GAAP,CAAYC,GAAZ,CAAiBC,IAAjB;;;;AAIR,2BAAiBC,aAAjB,EAJQ;AAKdF,IAAIG,UAAJ,CAAgB,GAAhB,EALc;;;;AASdF,KAAM,GAAIG,MAAJ,CAAW,sBAAX,CAAN,EATc,iEAAlB,E;;;;;AAceP,O","file":"healthz.js","sourcesContent":["/* @flow */\n\nimport express from 'express'\n\nimport defaultPersister from '../configuration/graphql/defaultPersister'\n\n\nconst healthz = express()\n\n\nhealthz.get( '/', async( req, res, next ) => {\n\n  try {\n\n    await defaultPersister.confirmHealth()\n    res.sendStatus( 200 )\n\n  } catch( err ) {\n\n    next( new Error( \"ðŸ’” DB is unreachable\" ) )\n  }\n} )\n\n\nexport default healthz\n"]}