{"version":3,"sources":["../../../../../units/urb-example-todo/app/components/ToDoTextInput.js"],"names":["ToDoTextInput","props","context","_commitChanges","bind","_handleBlur","_handleChangeText","_handleSubmitEditing","state","ToDo_Text","initialValue","newText","trim","onDelete","onCancel","onSave","_mounted","setState","commitOnBlur","autoFocus","clearButtonMode","placeholder","style","Component"],"mappings":";AACA,a;;AAEA,4B;AACA,yC;;AAEqBA,a;;;;;;;;;;;;;;;;;;AAkBnB,uBAAYC,KAAZ,CAAmBC,OAAnB,CAA4B;AACpBD,KADoB,CACbC,OADa;AAE1B,MAAKC,cAAL,CAAsB,MAAKA,cAAL,CAAoBC,IAApB,OAAtB;AACA,MAAKC,WAAL,CAAmB,MAAKA,WAAL,CAAiBD,IAAjB,OAAnB;AACA,MAAKE,iBAAL,CAAyB,MAAKA,iBAAL,CAAuBF,IAAvB,OAAzB;AACA,MAAKG,oBAAL,CAA4B,MAAKA,oBAAL,CAA0BH,IAA1B,OAA5B;;AAEA,MAAKI,KAAL,CAAa;AACXC,UAAW,MAAKR,KAAL,CAAWS,YAAX,EAA2B,EAD3B,CAAb,CAP0B;;AAU3B,C;;AAEgB;AACf,GAAIC,SAAU,KAAKH,KAAL,CAAWC,SAAX,CAAqBG,IAArB,EAAd;AACA,GAAI,KAAKX,KAAL,CAAWY,QAAX,EAAuBF,UAAY,EAAvC,CAA2C;AACzC,KAAKV,KAAL,CAAWY,QAAX;AACD,CAFD,IAEO,IAAI,KAAKZ,KAAL,CAAWa,QAAX,EAAuBH,UAAY,KAAKV,KAAL,CAAWS,YAAlD,CAAgE;AACrE,KAAKT,KAAL,CAAWa,QAAX;AACD,CAFM,IAEA,IAAIH,UAAY,EAAhB,CAAoB;AACzB,KAAKV,KAAL,CAAWc,MAAX,CAAkBJ,OAAlB;AACA,GAAI,KAAKK,QAAL,GAAkB,KAAtB,CAA6B;AAC3B,KAAKC,QAAL,CAAc,CAAER,UAAW,EAAb,CAAd;AACD;AACF;AACF,C;;AAEa;AACZ,GAAI,KAAKR,KAAL,CAAWiB,YAAf,CAA6B;AAC3B,KAAKf,cAAL;AACD;AACF,C;;AAEiBM,S,CAAW;AAC3B,GAAI,KAAKO,QAAL,GAAkB,KAAtB,CAA6B;AAC3B,KAAKC,QAAL,CAAc,CAAER,UAAWA,SAAb,CAAd;AACD;AACF,C;;AAEsB;AACrB,KAAKN,cAAL;AACD,C;;AAEsB;AACrB,KAAKa,QAAL,CAAgB,KAAhB;AACD,C;;AAEQ;AACP;AACE;AACE,UAAW,KAAKf,KAAL,CAAWkB,SADxB;AAEE,gBAAiB,KAAKlB,KAAL,CAAWmB,eAF9B;AAGE,OAAQ,KAAKf,WAHf;AAIE,aAAc,KAAKC,iBAJrB;AAKE,gBAAiB,KAAKC,oBALxB;AAME,YAAa,KAAKN,KAAL,CAAWoB,WAN1B;AAOE,MAAO,KAAKpB,KAAL,CAAWqB,KAPpB;AAQE,sBAAsB,aARxB;AASE,MAAO,KAAKd,KAAL,CAAWC,SATpB,EADF;;;AAaD,C,2BA9EwC,gBAAMc,S,kBAA5BvB,a","file":"ToDoTextInput.js","sourcesContent":["// @flow\n'use strict'\n\nimport React from 'react'\nimport { TextInput } from 'react-native'\n\nexport default class ToDoTextInput extends React.Component {\n  defaultProps: {\n    commitOnBlur: false,\n  }\n\n  propTypes: {\n    autoFocus: TextInput.propTypes.autoFocus,\n    clearButtonMode: TextInput.propTypes.clearButtonMode,\n    initialValue: React.PropTypes.string.isRequred,\n    commitOnBlur: React.PropTypes.bool.isRequired,\n    onCancel: React.PropTypes.func,\n    onDelete: React.PropTypes.func,\n    onSave: React.PropTypes.func.isRequired,\n    placeholder: TextInput.propTypes.placeholder,\n    style: TextInput.propTypes.style,\n    value: TextInput.propTypes.value,\n  }\n\n  constructor(props, context) {\n    super(props, context)\n    this._commitChanges = this._commitChanges.bind(this)\n    this._handleBlur = this._handleBlur.bind(this)\n    this._handleChangeText = this._handleChangeText.bind(this)\n    this._handleSubmitEditing = this._handleSubmitEditing.bind(this)\n\n    this.state = {\n      ToDo_Text: this.props.initialValue || '',\n    }\n  }\n\n  _commitChanges() {\n    var newText = this.state.ToDo_Text.trim()\n    if (this.props.onDelete && newText === '') {\n      this.props.onDelete()\n    } else if (this.props.onCancel && newText === this.props.initialValue) {\n      this.props.onCancel()\n    } else if (newText !== '') {\n      this.props.onSave(newText)\n      if (this._mounted !== false) {\n        this.setState({ ToDo_Text: '' })\n      }\n    }\n  }\n\n  _handleBlur() {\n    if (this.props.commitOnBlur) {\n      this._commitChanges()\n    }\n  }\n\n  _handleChangeText(ToDo_Text) {\n    if (this._mounted !== false) {\n      this.setState({ ToDo_Text: ToDo_Text })\n    }\n  }\n\n  _handleSubmitEditing() {\n    this._commitChanges()\n  }\n\n  componentWillUnmount() {\n    this._mounted = false\n  }\n\n  render() {\n    return (\n      <TextInput\n        autoFocus={this.props.autoFocus}\n        clearButtonMode={this.props.clearButtonMode}\n        onBlur={this._handleBlur}\n        onChangeText={this._handleChangeText}\n        onSubmitEditing={this._handleSubmitEditing}\n        placeholder={this.props.placeholder}\n        style={this.props.style}\n        underlineColorAndroid=\"transparent\"\n        value={this.state.ToDo_Text}\n      />\n    )\n  }\n}\n"]}