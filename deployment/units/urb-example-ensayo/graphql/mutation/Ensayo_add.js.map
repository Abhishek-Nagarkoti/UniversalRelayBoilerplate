{"version":3,"sources":["../../../../../units/urb-example-ensayo/graphql/mutation/Ensayo_add.js"],"names":["name","inputFields","Ensayo_Content","type","Ensayo_Title","Ensayo_Description","outputFields","EnsayosEdge","edgeType","resolve","context","local_id","args","objectManager","rootValue","an_Object","getOneObject","id","then","retrieved_Object","getObjectList","Ensayo_User_id","getViewerUserId","arr","cursor","cursorForObjectInConnection","node","Viewer","parent","mutateAndGetPayload","add"],"mappings":";;AAEA;AACA;;AAEA,4D;AACA,+D;;;AAGe,+CAA8B;AAC3CA,KAAM,YADqC;AAE3CC,YAAa;AACXC,eAAoB,CAAEC,KAAM,mDAAR,CADT;AAEXC,aAAoB,CAAED,KAAM,mDAAR,CAFT;AAGXE,mBAAoB,CAAEF,KAAM,mDAAR,CAHT,CAF8B;;AAO3CG,aAAc;AACZC,YAAa;AACXJ,KAAM,4BAAkBK,QADb;AAEXC,QAAS,4BAA2BC,OAA3B;AACT,IADYC,SACZ,MADYA,QACZ,IAD4BC,KAC5B,uCAD0DC,cAC1D,OAD+CC,SAC/C;AACE,GAAIC,iBAAJ;AACA,MAAOF,eAAcG,YAAd,CAA4B,QAA5B,CAAsC,CAAEC,GAAIN,QAAN,CAAtC;AACNO,IADM,CACA,SAAEC,gBAAF,CAAwB;AAC7BJ,UAAYI,gBAAZ;AACD,CAHM;AAIND,IAJM,CAIA,iBAAOL,eAAcO,aAAd,CAA6B,QAA7B,CAAuC,CAAEC,eAAgBR,cAAcS,eAAd,EAAlB,CAAvC,CAAP,EAJA;AAKNJ,IALM,CAKA,SAAEK,GAAF,QAAa;AAClBC,OAAQX,cAAcY,2BAAd,CAA2C,QAA3C,CAAqDF,GAArD,CAA0DR,SAA1D,CADU;AAElBW,KAAMX,SAFY,CAAb,EALA,CAAP;;;AAUD,CAfU,CADD;;AAkBZY,OAAQ;AACNxB,yBADM;AAENM,QAAS,iBAAEmB,MAAF,CAAUhB,IAAV,CAAgBF,OAAhB,WAAsCG,cAAtC,OAA2BC,SAA3B,OAA2DD,eAAcG,YAAd,CAA4B,MAA5B,CAAoC,CAAEC,GAAIJ,cAAcS,eAAd,EAAN,CAApC,CAA3D,EAFH,CAlBI,CAP6B;;;AA8B3CO,oBAAqB,mCAAwDnB,OAAxD,WAAIR,eAAJ,OAAIA,cAAJ,CAAoBE,YAApB,OAAoBA,YAApB,CAAkCC,kBAAlC,OAAkCA,kBAAlC,IAA8EQ,cAA9E,OAAmEC,SAAnE;AACnBD,cAAciB,GAAd,CAAmB,QAAnB,CAA6B;AAC3BT,eAAgBR,cAAcS,eAAd,EADW;AAE3BpB,6BAF2B;AAG3BE,yBAH2B;AAI3BC,qCAJ2B,CAA7B;;AAMCa,IAND,CAMO,SAAEP,QAAF,QAAkB,CAACA,iBAAD,CAAlB,EANP,CADmB,GA9BsB,CAA9B,C","file":"Ensayo_add.js","sourcesContent":["// @flow weak\n\nimport { mutationWithClientMutationId } from 'graphql-relay';\nimport { GraphQLString, GraphQLNonNull } from 'graphql'\n\nimport EnsayosConnection from '../type/EnsayosConnection';\nimport ViewerType from '../../../../graphql/type/ViewerType';\n\n\nexport default mutationWithClientMutationId( {\n  name: 'Ensayo_add',\n  inputFields: {\n    Ensayo_Content:     { type: new GraphQLNonNull( GraphQLString ) },\n    Ensayo_Title:       { type: new GraphQLNonNull( GraphQLString ) },\n    Ensayo_Description: { type: new GraphQLNonNull( GraphQLString ) },\n  },\n  outputFields: {\n    EnsayosEdge: {\n      type: EnsayosConnection.edgeType,\n      resolve: ( {local_id}, { ...args }, context, { rootValue: objectManager } ) =>\n      {\n        let an_Object;\n        return objectManager.getOneObject( 'Ensayo', { id: local_id } )\n        .then( ( retrieved_Object ) => {\n          an_Object = retrieved_Object;\n        } )\n        .then( ( ) => objectManager.getObjectList( 'Ensayo', { Ensayo_User_id: objectManager.getViewerUserId( ) } ) )\n        .then( ( arr ) => ( {\n          cursor: objectManager.cursorForObjectInConnection( 'Ensayo', arr, an_Object ),\n          node: an_Object,\n        } ) )\n        ;\n      }\n    },\n    Viewer: {\n      type: ViewerType,\n      resolve: ( parent, args, context, { rootValue: objectManager } ) => objectManager.getOneObject( 'User', { id: objectManager.getViewerUserId( ) } )\n    },\n  },\n  mutateAndGetPayload: ( { Ensayo_Content, Ensayo_Title, Ensayo_Description }, context, { rootValue: objectManager } ) =>\n    objectManager.add( 'Ensayo', {\n      Ensayo_User_id: objectManager.getViewerUserId( ),\n      Ensayo_Content,\n      Ensayo_Title,\n      Ensayo_Description,\n    } )\n    .then( ( local_id ) => ( {local_id} ) )\n} );\n"]}