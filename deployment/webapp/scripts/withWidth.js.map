{"version":3,"sources":["../../../webapp/scripts/withWidth.js"],"names":["withWidth","SMALL","MEDIUM","LARGE","options","resizeInterval","MyComponent","props","context","handleResize","clearTimeout","deferTimer","setTimeout","updateWidth","getWidth","width","innerWidth","state","window","setState"],"mappings":";;;;;;;;;AASwBA,S,CATxB,4B,2CACA,wD,s8BAGO,GAAMC,qBAAQ,CAAd,CACA,GAAMC,uBAAS,CAAf,CACA,GAAMC,qBAAQ,CAAd,CAGQ,QAASH,UAAT,EAAmC,IAAfI,QAAe,2DAAL,EAAK;;;;AAI5CA,OAJ4C,CAG9CC,cAH8C,CAG9CA,cAH8C,mCAG7B,CAH6B;;AAMhD,MAAM,UAAEC,WAAF,CAAmB;AACvB;;AAEE,mBAAaC,KAAb,CAAoBC,OAApB,CAA8B;;AAErBD,KAFqB,CAEdC,OAFc;;;;;;;;;;;;;;;;;;AAoB9BC,YApB8B,CAoBf,UAAM;AACnBC,aAAc,MAAKC,UAAnB;AACA,MAAKA,UAAL,CAAkBC,WAAY,UAAM;AAClC,MAAKC,WAAL;AACD,CAFiB,CAEfR,cAFe,CAAlB;AAGD,CAzB6B,oBAIE,MAAKS,QAAL,EAJF,CAIpBC,KAJoB,gBAIpBA,KAJoB,CAIbC,UAJa,gBAIbA,UAJa,CAM5B,MAAKC,KAAL,CAAa,CACXF,WADW,CAEXC,qBAFW,CAAb,CAN4B,aAU7B,CAZH,mFAcsB,CAClB,KAAKH,WAAL,GACD,CAhBH,mEAkByB,CACrBH,aAAc,KAAKC,UAAnB,EACD,CApBH;;AA6Ba;;AAET,GAAMK,YAAaE,OAAOF,UAA1B;AACA,GAAID,aAAJ;;AAEA,GAAIC,YAAc,GAAlB,CAAwB;AACtBD,MAAQZ,KAAR;AACD,CAFD,IAEO,IAAIa,YAAc,GAAlB,CAAwB;AAC7BD,MAAQb,MAAR;AACD,CAFM,IAEA;AACLa,MAAQd,KAAR;AACD;;AAED,MAAO,CAAEc,WAAF,CAASC,qBAAT,CAAP;AACD,CA3CH;;AA6CgB;;AAEkB,KAAKF,QAAL,EAFlB,CAEJC,KAFI,WAEJA,KAFI,CAEGC,UAFH,WAEGA,UAFH;;AAIZ,GAAID,QAAU,KAAKE,KAAL,CAAWF,KAAzB;AACE,KAAKI,QAAL,CAAe,CAAEJ,WAAF,CAAf;;AAEF,GAAIC,aAAe,KAAKC,KAAL,CAAWD,UAA9B;AACE,KAAKG,QAAL,CAAe,CAAEH,qBAAF,CAAf;AACH,CAtDH;;AAwDW;;AAEP;AACE,4DAAe,OAAO,QAAtB,CAA+B,SAAW,KAAKP,YAA/C;AACE,8BAAC,WAAD;AACO,KAAKF,KADZ;AAEE,MAAQ,KAAKU,KAAL,CAAWF,KAFrB;AAGE,WAAa,KAAKE,KAAL,CAAWD,UAH1B,GADF,CADF;;;;AASD,CAnEH;;AAqED,CAtED;AAuED","file":"withWidth.js","sourcesContent":["import React, { Component } from 'react'\nimport EventListener from 'react-event-listener'\n\n\nexport const SMALL = 1\nexport const MEDIUM = 2\nexport const LARGE = 3\n\n\nexport default function withWidth( options = {} ) {\n\n  const {\n    resizeInterval = 0, // TODO: Should it be so small? Original value from  MUI example: 166,\n  } = options\n\n  return( MyComponent ) => {\n    return class WithWidth extends Component {\n\n      constructor( props, context ) {\n\n        super( props, context )\n\n        const { width, innerWidth } = this.getWidth()\n\n        this.state = {\n          width,\n          innerWidth\n        }\n      }\n\n      componentDidMount() {\n        this.updateWidth()\n      }\n\n      componentWillUnmount() {\n        clearTimeout( this.deferTimer )\n      }\n\n      handleResize = () => {\n        clearTimeout( this.deferTimer )\n        this.deferTimer = setTimeout( () => {\n          this.updateWidth()\n        }, resizeInterval )\n      }\n\n      getWidth() {\n\n        const innerWidth = window.innerWidth\n        let width\n\n        if( innerWidth >= 992 ) {\n          width = LARGE\n        } else if( innerWidth >= 768 ) {\n          width = MEDIUM\n        } else { // innerWidth < 768\n          width = SMALL\n        }\n\n        return { width, innerWidth }\n      }\n\n      updateWidth() {\n\n        const { width, innerWidth } = this.getWidth()\n\n        if( width !== this.state.width )\n          this.setState( { width } )\n\n        if( innerWidth !== this.state.innerWidth )\n          this.setState( { innerWidth } )\n      }\n\n      render() {\n\n        return(\n          <EventListener target='window' onResize={ this.handleResize }>\n            <MyComponent\n              { ...this.props }\n              width={ this.state.width }\n              innerWidth={ this.state.innerWidth }\n            />\n          </EventListener>\n        )\n      }\n    }\n  }\n}\n"]}